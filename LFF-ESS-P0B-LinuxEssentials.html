

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-92365403-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>The Essentials : Linux Basics &#8212; tech.bitvijays.com</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="index.html">tech.bitvijays.com</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The Essentials : Linux Basics</a><ul>
<li><a class="reference internal" href="#vi-powerful-editor">Vi : Powerful Editor</a><ul>
<li><a class="reference internal" href="#open-file-with-vi">Open file with vi</a></li>
<li><a class="reference internal" href="#vi-modes">Vi Modes</a></li>
<li><a class="reference internal" href="#vi-configuration-files">Vi Configuration Files</a><ul>
<li><a class="reference internal" href="#vimrc">.vimrc</a></li>
<li><a class="reference internal" href="#viminfo">.viminfo</a></li>
</ul>
</li>
<li><a class="reference internal" href="#replace-text-in-vi">Replace text in Vi</a><ul>
<li><a class="reference internal" href="#other-info">Other Info</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#bash-configuration-files-for-debian-ubuntu-based-systems">Bash configuration files - For Debian/Ubuntu based Systems</a><ul>
<li><a class="reference internal" href="#important-files">Important Files</a></li>
<li><a class="reference internal" href="#important-variables">Important variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#system-administration">System Administration</a><ul>
<li><a class="reference internal" href="#updating-debian-linux-system">Updating Debian Linux System</a><ul>
<li><a class="reference internal" href="#using-apt-get">Using apt-get</a></li>
<li><a class="reference internal" href="#using-debian-package-manager-dpkg">Using Debian Package Manager dpkg</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-deleting-modifying-users-groups">Adding/Deleting/Modifying Users/Groups</a></li>
<li><a class="reference internal" href="#changing-group-owner-permission">Changing Group/Owner/Permission</a></li>
<li><a class="reference internal" href="#mounting-unmounting">Mounting/ Unmounting</a><ul>
<li><a class="reference internal" href="#mounting-windows-share-on-linux">Mounting Windows share on Linux</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linux-directories">Linux Directories</a></li>
<li><a class="reference internal" href="#runlevels-and-kernel-configurations">Runlevels and Kernel Configurations</a><ul>
<li><a class="reference internal" href="#linux-boot-process">Linux Boot Process</a></li>
<li><a class="reference internal" href="#sysctl-configure-kernel-parameters">Sysctl - configure kernel parameters</a></li>
<li><a class="reference internal" href="#kernel-modules">Kernel Modules</a></li>
<li><a class="reference internal" href="#manage-runlevels">Manage Runlevels</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#programming">Programming</a><ul>
<li><a class="reference internal" href="#git">GIT</a></li>
<li><a class="reference internal" href="#cc-gnu-compile-collection">cc - GNU Compile Collection</a></li>
<li><a class="reference internal" href="#gdb-gnu-debugger">GDB: GNU debugger</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gathering-information">Gathering Information</a><ul>
<li><a class="reference internal" href="#from-files">From Files</a></li>
<li><a class="reference internal" href="#from-commands">From Commands</a></li>
</ul>
</li>
<li><a class="reference internal" href="#useful-utilities-commands">Useful Utilities/ Commands</a><ul>
<li><a class="reference internal" href="#grep-global-regular-expression-print">Grep - Global Regular Expression Print</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#using-regular-expressions">Using regular expressions</a></li>
<li><a class="reference internal" href="#search-a-specific-string">Search a specific string</a></li>
<li><a class="reference internal" href="#line-and-word-anchors">Line and word anchors</a></li>
<li><a class="reference internal" href="#shell-expansions-input-to-grep">Shell expansions - input to Grep</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copy-copy-files-and-directories">Copy - Copy files and directories</a></li>
<li><a class="reference internal" href="#cut-remove-sections-from-each-line-of-files">cut - remove sections from each line of files</a></li>
<li><a class="reference internal" href="#pipes">Pipes</a></li>
<li><a class="reference internal" href="#tar-archiving-utility">tar - Archiving utility</a></li>
<li><a class="reference internal" href="#find-searching-files">find - Searching files</a><ul>
<li><a class="reference internal" href="#delete-empty-file-and-directories">Delete empty file and directories</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-commands">Other commands</a></li>
<li><a class="reference internal" href="#special-characters">Special Characters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bash">Bash</a><ul>
<li><a class="reference internal" href="#equality-tests">Equality Tests</a></li>
<li><a class="reference internal" href="#list-of-equality-tests">List of equality tests</a><ul>
<li><a class="reference internal" href="#checks-equality-between-numbers">Checks equality between numbers</a></li>
<li><a class="reference internal" href="#checks-equality-between-strings">Checks equality between strings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bash-command-substitution">Bash Command Substitution</a></li>
<li><a class="reference internal" href="#bash-programming">Bash Programming</a><ul>
<li><a class="reference internal" href="#bash-for-loop">Bash For Loop</a></li>
<li><a class="reference internal" href="#bash-if-statement">Bash If Statement</a></li>
<li><a class="reference internal" href="#bash-loop-thru-array-of-strings">Bash loop thru array of strings</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#important-definitions">Important Definitions</a><ul>
<li><a class="reference internal" href="#information">Information</a><ul>
<li><a class="reference internal" href="#confidentiality-integrity-availability">Confidentiality, Integrity, Availability</a></li>
<li><a class="reference internal" href="#non-repudiation">Non-repudiation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#difference-between-su-and-sudo">Difference between su and sudo</a><ul>
<li><a class="reference internal" href="#su">su</a></li>
<li><a class="reference internal" href="#su-c">su -c</a></li>
<li><a class="reference internal" href="#sudo">sudo</a></li>
</ul>
</li>
<li><a class="reference internal" href="#important-file-formats">Important File Formats</a><ul>
<li><a class="reference internal" href="#etc-passwd">/etc/passwd</a></li>
<li><a class="reference internal" href="#etc-shadow">/etc/shadow</a></li>
<li><a class="reference internal" href="#etc-group">/etc/group</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#tips-and-tricks">Tips and tricks</a><ul>
<li><a class="reference internal" href="#apt-get-error">Apt-get error?</a></li>
<li><a class="reference internal" href="#track-etc-directory">Track /etc directory</a></li>
<li><a class="reference internal" href="#ls-showing-full-path">ls showing full path</a></li>
<li><a class="reference internal" href="#keyboard-shortcuts">Keyboard shortcuts</a></li>
<li><a class="reference internal" href="#searching-history">Searching History</a></li>
<li><a class="reference internal" href="#awk-converting-to-normal-output-to-csv">Awk converting to normal output to csv</a></li>
<li><a class="reference internal" href="#finding-most-open-ports-in-nmap-scan">Finding most open ports in nmap scan</a></li>
<li><a class="reference internal" href="#cat">cat</a></li>
</ul>
</li>
<li><a class="reference internal" href="#practice">Practice</a><ul>
<li><a class="reference internal" href="#programming-debugging-and-git">Programming, Debugging and Git</a><ul>
<li><a class="reference internal" href="#task-1-git">Task 1 : Git</a></li>
<li><a class="reference internal" href="#task-2-vi-gcc-make">Task 2 : Vi/ gcc/ make</a></li>
<li><a class="reference internal" href="#task-3-gdb">Task 3 : gdb</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">System administration</a><ul>
<li><a class="reference internal" href="#task-1-login-logout-messages">Task 1 : Login/ Logout Messages</a></li>
<li><a class="reference internal" href="#task-2-gather-information">Task 2 : Gather Information</a></li>
<li><a class="reference internal" href="#task-3-add-user">Task 3 : Add User</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bash-scripting">Bash Scripting</a><ul>
<li><a class="reference internal" href="#task-1-gather-ip-addresses">Task 1 : Gather IP Addresses</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#interesting-stuff">Interesting Stuff</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/LFF-ESS-P0B-LinuxEssentials.rst.txt"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/bitvijays/bitvijays.github.io-sphinx/blob/master/docs/LFF-ESS-P0B-LinuxEssentials.rst"
           rel="nofollow">Show on GitHub</a></li>
    <li><a href="https://github.com/bitvijays/bitvijays.github.io-sphinx/edit/master/docs/LFF-ESS-P0B-LinuxEssentials.rst"
           rel="nofollow">Edit on GitHub</a></li>
  </ul>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-essentials-linux-basics">
<h1>The Essentials : Linux Basics<a class="headerlink" href="#the-essentials-linux-basics" title="Permalink to this headline">¶</a></h1>
<p>This post lists essential commands and concepts which would be helpful to a Linux user. We would cover tools required for programming (Vi, git), system administration (Bash configuration files, Updating Debian Linux System, Adding/ Deleting/ Modifying Users/ Groups, Changing Group/ Owner/ Permission, Mounting/ Unmounting, Linux Directories, Runlevels and Kernel Configurations). Also, provide some useful tips, tricks and TODO which would help you learn and practice.</p>
<div class="section" id="vi-powerful-editor">
<h2>Vi : Powerful Editor<a class="headerlink" href="#vi-powerful-editor" title="Permalink to this headline">¶</a></h2>
<div class="section" id="open-file-with-vi">
<h3>Open file with vi<a class="headerlink" href="#open-file-with-vi" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>vi &lt;filename&gt;               - Open a file to edit in Vi editor.
</pre></div>
</div>
</div>
<div class="section" id="vi-modes">
<h3>Vi Modes<a class="headerlink" href="#vi-modes" title="Permalink to this headline">¶</a></h3>
<p>Two modes - Command and Insert Mode. All commands below are in command mode.</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>h,l,j,k                     - Move left, right, down, up
w                           - Move to the start of the next word.
e                           - Move to the end of the word.
b                           - Move to the beginning of the word.
3w                          - 3w is similar to pressing w 3 times, moves to the start of the third word.
30i-&#39;EscKey&#39;                - 30&lt;insert&gt;-&lt;EscapeKey&gt; : Inserts 30 - at once.
f                           - find and move to the next (or previous) occurrence of a character. fo find next o.
3fo                         - find third occurrence of o
%                           - In text that is structured with parentheses or brackets, ( or { or [, use % to jump to the matching parenthesis or bracket.
0 (Zero)                    - Reach beginning of the line
$                           - Reach end of the line.
*                           - Find the next occurrence of the word under cursor
#                           - Find the previous occurrence of the word under cursor
gg                          - Reach beginning of the file
G                           - Reach end of the file
30G                         - Reach the 30th line in the file
/&lt;text&gt;                     - Search for the text. Utilize n, N for next and previous occurrences.
o                           - Insert a new line below the cursor
O                           - Insert a new line above the cursor
x                           - Delete the character
r                           - replace the character with the next key pressed.
dw                          - Delete the current word.
dd                          - Delete the current line.
d$                          - Delete the text from where your cursor is to the end of the line.
dnd                         - Delete n lines.
.                           - Repeat the last command
:q                          - Quit.
:wq                         - Save and close.
:syntax on                  - Turn on Syntax highlighting for C programming and other languages.
:history                    - Shows the history of the commands executed
:set number                 - Turn on the line numbers.
:set nonumber               - Turn off the line numbers.
:set spell spelllang=en_us  - Turn spell checking on with spell language as &quot;en_us&quot;
:set nospell                - Turn spell checking off
:set list                   - If &#39;list&#39; is on, whitespace characters are made visible. The default displays &quot;^I&quot; for each tab, and &quot;$&quot; at each EOL (end of line, so trailing whitespace can be seen)
:u                          - Undo one change.
z=                          - If the cursor is on the word ( which is highlighted with spell check), Vim will suggest a list of alternatives that it thinks may be correct.
yy                          - Yank or copy current line.
y$, yny                     - Similar to delete lines.
p                           - Paste the line in the buffer in to text after the currentline.
</pre></div>
</div>
</div>
<div class="section" id="vi-configuration-files">
<h3>Vi Configuration Files<a class="headerlink" href="#vi-configuration-files" title="Permalink to this headline">¶</a></h3>
<p>Two configurations files which are important:</p>
<div class="section" id="vimrc">
<h4>.vimrc<a class="headerlink" href="#vimrc" title="Permalink to this headline">¶</a></h4>
<p>Contains optional runtime configuration settings to initialize Vim when it starts. Example: If you want Vim to have syntax on and line numbers on, whenever you open vi, enter syntax on and set number in this file.</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>##Sample contents of .vimrc

syntax on
set number
</pre></div>
</div>
<p>A good details about various options which can be set in vimrc can be found at <a class="reference external" href="https://dougblack.io/words/a-good-vimrc.html">A Good Vimrc</a></p>
</div>
<div class="section" id="viminfo">
<h4>.viminfo<a class="headerlink" href="#viminfo" title="Permalink to this headline">¶</a></h4>
<p>Viminfo file stores command-line, search string, input-line history and other stuff. Useful if you want to find out what user has been doing in vi.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Both files are present in user home directory.</p>
</div>
</div>
</div>
<div class="section" id="replace-text-in-vi">
<h3>Replace text in Vi<a class="headerlink" href="#replace-text-in-vi" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>:s/test/learn     - would replace test to learn in current line but only first instance.
:s/test/learn/g   - would replace test to learn in current line all the instance.
:s/test/learn/gi  - would replace test (all cases) to learn in current line all the instance.
:%s/test/learn/gi - would replace test to learn in the file (all lines)
</pre></div>
</div>
<div class="section" id="other-info">
<h4>Other Info<a class="headerlink" href="#other-info" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://vimawesome.com/">Vim Awesome</a> provides Awesome VIM plugins from across the universe. Few good one are</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>The NERD tree : Tree explorer plugin for vim</li>
<li>Syntastic     : Syntax checking hacks for vim</li>
<li>Youcompleteme : Code-completion engine for Vim</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="bash-configuration-files-for-debian-ubuntu-based-systems">
<h2>Bash configuration files - For Debian/Ubuntu based Systems<a class="headerlink" href="#bash-configuration-files-for-debian-ubuntu-based-systems" title="Permalink to this headline">¶</a></h2>
<div class="section" id="important-files">
<h3>Important Files<a class="headerlink" href="#important-files" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>~/.bash_profile - Stores user environment variables.</li>
<li>~/.bash_history - contains all the history of the commands.</li>
<li>~/.bash_logout  - contains the command which are executed when bash is exited.</li>
<li>~/.bashrc       - setting of variables for bash.</li>
<li>/etc/profile    - Global system configuration for bash which controls the environmental variables and programs that are to be run when bash is executed. Setting of PATH variable and PS1.</li>
<li>/etc/bashrc     - Global system configuration for bash which controls the aliases and functions to be run when bash is executed</li>
</ul>
</div>
<div class="section" id="important-variables">
<h3>Important variables<a class="headerlink" href="#important-variables" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>HISTSIZE     - Controls the number of commands to remember in the history command. The default value is 500.</li>
<li>HISTFILE     - Defines the file in which all commands will be logged to. Normally the value for this variable is set to ~/.bash_history. This means that whatever you type in bash will be stored into the value of HISTFILE. It is advisable to leave it undefined, or pipe the output to /dev/null (For privacy reasons).</li>
<li>HISTFILESIZE - Defines the maximum number of commands in ~/.bash_history.</li>
</ul>
</div>
</div>
<div class="section" id="system-administration">
<h2>System Administration<a class="headerlink" href="#system-administration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="updating-debian-linux-system">
<h3>Updating Debian Linux System<a class="headerlink" href="#updating-debian-linux-system" title="Permalink to this headline">¶</a></h3>
<div class="section" id="using-apt-get">
<h4>Using apt-get<a class="headerlink" href="#using-apt-get" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>apt-get update                 - Sync with Repositories.
apt-get upgrade                - Upgrade installed packages.
apt-get dist-upgrade           - Upgrade distribution packages.
apt-get install &quot;Package Name&quot; - Install the package.
apt-get remove  &quot;Package Name&quot; - Uninstall the package.
apt-get purge   &quot;Package Name&quot; - Removes the package as well as the configuration files.
apt-cache show  &quot;Package name&quot; - Shows what package is used for.
apt-cache search &quot;Keywords&quot;    - Search package name based on keywords.
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">As mostly, updating takes time, you can club all the commands like “apt-get update &amp;&amp; apt-get upgrade &amp;&amp; apt-get dist-upgrade &amp;&amp;  poweroff”. poweroff would shutdown the system after everything is updated.</p>
</div>
</div>
<div class="section" id="using-debian-package-manager-dpkg">
<h4>Using Debian Package Manager dpkg<a class="headerlink" href="#using-debian-package-manager-dpkg" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>dpkg -i &lt;Package&gt;.deb          - Install package.
dpkg -r &lt;Package&gt;              - Removes everything except configuration files.
dpkg -P &lt;Package&gt;              - Removes configurations files too.
dpkg -l                        - Shows the list of all installed packages.
dpkg -L &quot;Package name&quot;         - Shows a list of files installed by specific packages.
dpkg -S &quot;File path&quot;            - Shows the package to which a file belong to.
</pre></div>
</div>
</div>
</div>
<div class="section" id="adding-deleting-modifying-users-groups">
<h3>Adding/Deleting/Modifying Users/Groups<a class="headerlink" href="#adding-deleting-modifying-users-groups" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>adduser &lt;username&gt; : Add a user.
 --gecos GECOS     : adduser won&#39;t ask for finger information.
 --system          : Create a system user.
 --quiet           : Suppress informational messages, only show warnings and errors.
 --disabled-login  : Do not run passwd to set the password.
deluser &lt;username&gt; : Delete a user.
 --remove-home     : Remove the home directory of the user and its mailspool.
 --remove-all-files: Remove all files from the system owned by this user.
 --backup          : Backup all files contained in the userhome and the mailspool-file to a file named /$user.tar.bz2 or /$user.tar.gz.
usermod            : Modify a user account.
 -e EXPIREDATE     : The date on which the user account will be disabled. The date is specified in the format YYYY-MM-DD.
 -L, --lock        : Lock a user&#39;s password.
 -U, --unlock      : Unlock a user&#39;s password
groupadd           : Create a new group.
groupdel           : Delete a group.
groupmod           : Modify a group definition on the system.
</pre></div>
</div>
</div>
<div class="section" id="changing-group-owner-permission">
<h3>Changing Group/Owner/Permission<a class="headerlink" href="#changing-group-owner-permission" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>chown              : Change file owner and group.
 -reference=RFILE  : use RFILE&#39;s owner and group rather than specifying OWNER:GROUP values.
 -R, --recursive   : operate on files and directories recursively.
chmod              : change file mode bits.
chgrp              : change group ownership.
SUID bit           : SetUID bit specifies that an executable should run as its owner instead of the user executing it.
                   : SUID is mostly commonly used to run an executable as root, allowing users to perform tasks such as changing their passwords.
                   : If there is a flaw in a SUID root executable, you can run arbitrary code as root.
</pre></div>
</div>
</div>
<div class="section" id="mounting-unmounting">
<h3>Mounting/ Unmounting<a class="headerlink" href="#mounting-unmounting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>mount &lt;device&gt; &lt;dir&gt; : Mount a filesystem.
   -r, --read-only   : Mount the filesystem read-only.
unmount {dir|device} : Unmount file systems.
</pre></div>
</div>
<div class="section" id="mounting-windows-share-on-linux">
<h4>Mounting Windows share on Linux<a class="headerlink" href="#mounting-windows-share-on-linux" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>mount -t cifs -o username=&lt;share user&gt;,password=&lt;share password&gt;,domain=example.com //WIN_PC_IP/&lt;share name&gt; /mnt
</pre></div>
</div>
</div>
</div>
<div class="section" id="linux-directories">
<h3>Linux Directories<a class="headerlink" href="#linux-directories" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>/home                             : users home directories.
/etc                              : system-wide configuration files.
/bin, /usr/bin, /usr/local/bin    : directories with executable files.
/lib, /usr/lib, /usr/local/lib    : shared libraries needed to upport the applications.
/sbin, /usr/sbin, /usr/local/sbin : directories with executables supposed to be run by the Superuser.
/tmp, /var/tmp                    : temporary directories, watch out as /tmp is, by default, cleaned out on each reboot.
/usr/share/doc, /usr/share/man    : complete system documentation.
/dev                              : system device files. In Unix, hardware devices are represented as files.
/proc                             : &quot;virtual&quot; directory containing files through which you can query or tune Linux kernel settings.
</pre></div>
</div>
</div>
<div class="section" id="runlevels-and-kernel-configurations">
<h3>Runlevels and Kernel Configurations<a class="headerlink" href="#runlevels-and-kernel-configurations" title="Permalink to this headline">¶</a></h3>
<div class="section" id="linux-boot-process">
<h4>Linux Boot Process<a class="headerlink" href="#linux-boot-process" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>1. BIOS start the boot loader.
2. Boot loader loads the kernel into memory.
3. The Kernel mounts disks/partitions and starts the init daemon.
4. The init daemon starts services based on the runlevel.
</pre></div>
</div>
<p>Linux has six runlevels 0-6. Scripts are contained in /etc/rc[0-6,S].d/. Each folder contains the scripts which are followed by either K or S. If the first letter is K that script is not executed. If S, that script is executed. /etc/inittab contains the default run level.</p>
<table border="1" class="docutils">
<colgroup>
<col width="3%" />
<col width="41%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">ID</th>
<th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>Halt</td>
<td>Shuts down the system.</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>Single-user Mode</td>
<td>Mode for administrative tasks.</td>
</tr>
<tr class="row-even"><td>2</td>
<td>Multi-user Mode</td>
<td>Does not configure network interfaces and does not export networks services</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>Multi-user Mode with Networking</td>
<td>Starts the system normally.</td>
</tr>
<tr class="row-even"><td>4</td>
<td>Not used/User-definable</td>
<td>For special purposes.</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>Start system normally with display manager (with GUI).</td>
<td>Same as runlevel 3 + display manager</td>
</tr>
<tr class="row-even"><td>6</td>
<td>Reboot</td>
<td>Reboot the system</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sysctl-configure-kernel-parameters">
<h4>Sysctl - configure kernel parameters<a class="headerlink" href="#sysctl-configure-kernel-parameters" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>/etc/sysctl.conf                : Contains the variables for kernel parameters.
sysctl -a                       : Display all the kernel parameters
sysctl -w &lt;kernel parameter&gt;    : Change a sysctl setting.
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To make permanent changes to the kernel, edit the /etc/sysctl.conf file.</p>
</div>
</div>
<div class="section" id="kernel-modules">
<h4>Kernel Modules<a class="headerlink" href="#kernel-modules" title="Permalink to this headline">¶</a></h4>
<p>Kernel modules are contained in /lib/modules/$(uname -r)/</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>lsmod      : list all loaded modules
modprobe   : load kernel modules
lspci      : list all pci devices
lsusb      : list all usb devices
hal-device : list all the Hardware Abstraction layer devices
</pre></div>
</div>
</div>
<div class="section" id="manage-runlevels">
<h4>Manage Runlevels<a class="headerlink" href="#manage-runlevels" title="Permalink to this headline">¶</a></h4>
<p>Debian GNU provides a convenient tool to manage runlevels (to control when services are started and shut down);</p>
<ul class="simple">
<li>update-rc.d and there are two commonly used invocation methods:</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>update-rc.d -f &lt;service name&gt; remove : Disabling a service.
update-rc.d &lt;service name&gt; defaults  : Insert links using defaults, start in runlevel 2-5 and stop in runlevels 0,1 and 6.
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li>Systemctl : Control the systemd system and service manager. systemctl may be used to introspect and control the state of the “systemd” system and service manager.</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>systemctl : Present a detailed output about the different services running.

e.g.

systemctl status &lt;service_name&gt; - Status of the service.
systemctl start &lt;service_name&gt;  - Start the service
</pre></div>
</div>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="programming">
<h2>Programming<a class="headerlink" href="#programming" title="Permalink to this headline">¶</a></h2>
<div class="section" id="git">
<h3>GIT<a class="headerlink" href="#git" title="Permalink to this headline">¶</a></h3>
<p>Version Control System, really useful for tracking your changes.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last"><a class="reference external" href="https://try.github.com">try.github.com</a> 15 mins tutorial.</p>
</div>
</div>
<div class="section" id="cc-gnu-compile-collection">
<h3>cc - GNU Compile Collection<a class="headerlink" href="#cc-gnu-compile-collection" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>To Compile: gcc -Wall -pedantic -g &lt;C source file&gt; -o &lt;Executable file&gt;
-Wall -pedantic : to check for all the warnings and errors if any.
-g              : to create the symbol file to be used by gdb
-o              : to create the executable file.
</pre></div>
</div>
</div>
<div class="section" id="gdb-gnu-debugger">
<h3>GDB: GNU debugger<a class="headerlink" href="#gdb-gnu-debugger" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>gdb -tui &lt;Program name&gt;

tui               : for listing the source while debugging
&lt;linenumber&gt;      : to set the break point
p &lt;variable name&gt; : to print the value of the variable
bt                : to print the stack call, mainly useful to find segmentation fault when multiple functions are called.
</pre></div>
</div>
</div>
</div>
<div class="section" id="gathering-information">
<h2>Gathering Information<a class="headerlink" href="#gathering-information" title="Permalink to this headline">¶</a></h2>
<div class="section" id="from-files">
<h3>From Files<a class="headerlink" href="#from-files" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>/etc/issue     : Contains the message which is displayed on terminal before login.
/etc/motd      : Contains the message which is displayed on terminal after login.
/proc/cpuinfo  : provides information about CPU.
/proc/meminfo  : provides information about memory/ RAM.
/proc/version  : provides information about the version of your system.
</pre></div>
</div>
</div>
<div class="section" id="from-commands">
<h3>From Commands<a class="headerlink" href="#from-commands" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>last      : shows all the login attempts and the reboot occurred.
lastb     : shows all the bad login attempts.
lastlog   : shows the list of all the users and when did they login.
id        : print real and effective user and group IDs.
whoami    : whoami - print effective userid.
uname     : print system information.
  -a      : print all the information (Kernel name, nodename, kernel-release, kernel-version, machine, processor, hardware-platform)
pstree    : display a tree of processes.
hostname  : prints out the hostname of the machine which is stored in /etc/hostname.
</pre></div>
</div>
</div>
</div>
<div class="section" id="useful-utilities-commands">
<h2>Useful Utilities/ Commands<a class="headerlink" href="#useful-utilities-commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="grep-global-regular-expression-print">
<h3>Grep - Global Regular Expression Print<a class="headerlink" href="#grep-global-regular-expression-print" title="Permalink to this headline">¶</a></h3>
<p>Two ways to provide input to Grep:</p>
<ul class="simple">
<li>search a given file or files on a system (including a recursive search through sub-folders).</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>grep bitvijays /etc/passwd
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li>Grep also accepts inputs (usually via a pipe) from another command or series of commands.</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>cat /etc/passwd | grep bitvijays
</pre></div>
</div>
</div></blockquote>
<div class="section" id="syntax">
<h4>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>grep [options] [regexp] [filename]

   -i, --ignore-case     : &#39;it DoesNt MatTTer WhaT thE CAse Is&#39;
   -v, --invert-match    : &#39;everything , BUT that text&#39;
   -A &lt;NUM&gt;              : Print NUM lines of trailing context after matching lines.
   -B &lt;NUM&gt;              : Print NUM lines of trailing context before matching lines.
   -C &lt;NUM&gt;              : Print additional (leading and trailing) context lines before and after the match.
   -a, --text            : Process a binary file as if it were text; this is equivalent to the --binary-files=text option.
   -w                    : Whole-word search
   -L --files-without-match : which outputs the names of files that do NOT contain matches for your search pattern.
   -l --files-with-matches  : which prints out (only) the names of files that do contain matches for your search pattern.

   -H &lt;pattern&gt; filename    : Print the filename for each match.
       example: grep -H &#39;a&#39; testfile
                testfile:carry out few cyber-crime investigations

       Now, let’s run the search a bit differently:
               cat testfile | grep -H &#39;a&#39;
               (standard input):carry out few cyber-crime investigations
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Regular expression should be enclosed in single quotation marks or double quotes (allows environment variables to be used), to prevent the shell (Bash or others) from trying to interpret and expand the expression before launching the grep process.</p>
</div>
</div>
<div class="section" id="using-regular-expressions">
<h4>Using regular expressions<a class="headerlink" href="#using-regular-expressions" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>grep &#39;v.r&#39; testfile
thank you very much
</pre></div>
</div>
<p>In the search above, . is used to match any single character - matches “ver” in “very”.</p>
<p>A regular expression may be followed by one of several repetition operators:</p>
<ul class="simple">
<li>The period (.) matches any single character.</li>
<li>? means that the preceding item is optional, and if found, will be matched at the most, once.</li>
<li>* means that the preceding item will be matched zero or more times.</li>
<li>+ means the preceding item will be matched one or more times.</li>
<li>{n} means the preceding item is matched exactly n times, while {n,} means the item is matched n or more times. {n,m} means that the preceding item is matched at least n times, but not more than m times. {,m} means that the preceding item is matched, at the most, m times.</li>
</ul>
</div>
<div class="section" id="search-a-specific-string">
<h4>Search a specific string<a class="headerlink" href="#search-a-specific-string" title="Permalink to this headline">¶</a></h4>
<p>Scan files for a text present in them Find a way to scan my entire linux system for all files containing a specific string of text. Just to clarify, I’m looking for text within the file, not in the file name.</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>grep -rnw &#39;directory&#39; -e &quot;pattern&quot; --include={*.c,*.h} --exclude=*.o

  -r                    : search recursively
  -n                    : print line number
  -w                    : match the whole word.
  --include={*.c,*.h}   : Only search through the files which have .c or .h extensions.
  --exclude=*.o         : Exclude searching in files with .o extensions.
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">–exclude or –include parameter could be used for efficient searching.</p>
</div>
</div>
<div class="section" id="line-and-word-anchors">
<h4>Line and word anchors<a class="headerlink" href="#line-and-word-anchors" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The ^ anchor specifies that the pattern following it should be at the start of the line:</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>grep &#39;^th&#39; testfile
this
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li>The $ anchor specifies that the pattern before it should be at the end of the line.</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>grep &#39;i$&#39; testfile
Hi
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li>The operator &lt; anchors the pattern to the start of a word.</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>grep &#39;\&lt;fe&#39; testfile
carry out few cyber-crime investigations
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li>&gt; anchors the pattern to the end of a word.</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>grep &#39;le\&gt;&#39; testfile
is test file
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li>The b (word boundary) anchor can be used in place of &lt; and &gt; to signify the beginning or end of a word:</li>
</ul>
<blockquote>
<div><div class="highlight-None"><div class="highlight"><pre><span></span>grep -e &#39;\binve&#39; testfile
carry out few cyber-crime investigations
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="shell-expansions-input-to-grep">
<h4>Shell expansions - input to Grep<a class="headerlink" href="#shell-expansions-input-to-grep" title="Permalink to this headline">¶</a></h4>
<p>If we don’t single-quote the pattern passed to Grep, the shell could perform shell expansion on the pattern and actually feed a changed pattern to Grep.</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>grep &quot;$HOME&quot; /etc/passwd
root:x:0:0:root:/root:/bin/bash
</pre></div>
</div>
<p>We used double quotes to make the Bash shell replace the environment variable $HOME with the actual value of the variable (in this case, /root). Thus, Grep searches the /etc/passwd file for the text /root, yielding the two lines that match.</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>grep `whoami` /etc/passwd
root:x:0:0:root:/root:/bin/bash
</pre></div>
</div>
<p>Here, back-tick expansion is done by the shell, replacing <cite>whoami</cite> with the user name (root) that is returned by the whoami command.</p>
</div>
</div>
<div class="section" id="copy-copy-files-and-directories">
<h3>Copy - Copy files and directories<a class="headerlink" href="#copy-copy-files-and-directories" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>cp &lt;SOURCE&gt; &lt;DIRECTORY&gt;
  -r        : recursive.
  -a        : similar to preserve,
  -p        : preserve
  -v        : verbose.
</pre></div>
</div>
</div>
<div class="section" id="cut-remove-sections-from-each-line-of-files">
<h3>cut - remove sections from each line of files<a class="headerlink" href="#cut-remove-sections-from-each-line-of-files" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>cut OPTION... [FILE]...
 -d        : use DELIM instead of TAB for field delimiter.
 -f        : select only these fields.
</pre></div>
</div>
</div>
<div class="section" id="pipes">
<h3>Pipes<a class="headerlink" href="#pipes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>&gt;         : direct normal output.
2&gt;        : direct error output.
&amp;&gt;        : direct all output.
</pre></div>
</div>
</div>
<div class="section" id="tar-archiving-utility">
<h3>tar - Archiving utility<a class="headerlink" href="#tar-archiving-utility" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>tar
 -c        : create archive
 -t        : list the content of the file
 -x        : extract the files
 -j        : bzip2 format
 -z        : gzip format
</pre></div>
</div>
</div>
<div class="section" id="find-searching-files">
<h3>find - Searching files<a class="headerlink" href="#find-searching-files" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>find / -name somename

-user       : File is owned by user uname (numeric user ID allowed).
-group      : File belongs to group gname (numeric group ID allowed).
-size       : File uses n units of space. c/k/M/G: bytes/Kilobytes/Megabytes/Gigabytes.
-name       : Base  of  file  name
</pre></div>
</div>
<div class="section" id="delete-empty-file-and-directories">
<h4>Delete empty file and directories<a class="headerlink" href="#delete-empty-file-and-directories" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>find -empty -type d -delete
find -empty -type f -delete
</pre></div>
</div>
<p>Find each file in the current directory and tell it’s type and grep JPEG files.</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>find . -type f -exec file {} + | grep JPEG
</pre></div>
</div>
</div>
</div>
<div class="section" id="other-commands">
<h3>Other commands<a class="headerlink" href="#other-commands" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>nm-applet : a applet for network manager.
wc        : print newline, word, and byte counts for each file.
 -c       : print the bytes count.
 -l       : print the lines count.
 -w       : print the word count.
sort      : sort lines of text files.
diff      : compare files line by line.
less      : print information one per page.
more      : prints information one per page.
head      : prints first 10 lines
tail      : prints last 10 lines.
whatis    : Provides a one line description of the commands.
which     : locate a command.
whereis   : locate the binary, source, and manual page files for a command.
locate    : find files by name
cal       : Display calendar
date      : Display date. Date command provides multiples options for displaying day and time, very helpful in creating backups with name having time and date.
tr        : Converts from smaller to uppercase. tr stands for translate.
 -d       : delete characters in the text.
tee       : saves output in file as well as forward it.
touch     : Create zero byte files, mainly used for changing the timestamps of the file.
make      : If your program source file name is test.c/cpp, then you can directly write make test, this would compile the test.c/cpp program. Remember this it&#39;s a faster way.
stat      : View detailed information about a file, including its name, size, last modified date and permissions.
uniq      : Report or omit repeated lines.
  -c      : prefix lines by the number of occurrences. (--count)
</pre></div>
</div>
</div>
<div class="section" id="special-characters">
<h3>Special Characters<a class="headerlink" href="#special-characters" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>*(asterik)          : A wildcard used to represent zero or more characters in a filename. For example: ls *.txt will list all the names ending in &quot;.txt&quot; such as &quot;file1.txt&quot; and &quot;file23.txt&quot;.
?(question mark)    : A wildcard used to represent a single character in a filename. For example ls pic?.jpg would match &quot;pic1.jpg&quot; and &quot;pic2.jpg&quot; but not &quot;pic24.jpg&quot; or &quot;pic.jpg&quot;.
[](square brackets) : These are used to specify a range of values to match. For example, &quot;[0-9]&quot; and &quot;[a-z]&quot;.
;(semi colon)       : Command separator that can be used to run multiple commands on a single line unconditionally.
&amp;&amp;(double ampersand): Command separator which will only run the second command if the first one is successful (does not return an error.)
||(double pipe)     : Command separator which will only run the second command if the first command failed (had errors). Commonly used to terminate the script if an important command fails.
# (Comments)        : Lines beginning with a # (with the exception of #!) are comments and will not be executed.
</pre></div>
</div>
</div>
</div>
<div class="section" id="bash">
<h2>Bash<a class="headerlink" href="#bash" title="Permalink to this headline">¶</a></h2>
<div class="section" id="equality-tests">
<h3>Equality Tests<a class="headerlink" href="#equality-tests" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>test      : checks file types and compare values
  -d      : check if the file is a directory
  -e      : check if the file exists
  -f      : check if the file is a regular file
  -g      : check if the file has SGID permissions
  -r      : check if the file is readable
  -s      : check if the file&#39;s size is not 0
  -u      : check if the file has SUID permissions
  -w      : check if the file is writeable
  -x      : check if the file is executable
</pre></div>
</div>
<p>Example</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>if test -f /etc/foo.txt
then
</pre></div>
</div>
<p>It can also be written as</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>if [ -f /etc/foo.txt ]; then

--square brackets [] form test.
-- There has to be white space surrounding both square bracket
</pre></div>
</div>
</div>
<div class="section" id="list-of-equality-tests">
<h3>List of equality tests<a class="headerlink" href="#list-of-equality-tests" title="Permalink to this headline">¶</a></h3>
<div class="section" id="checks-equality-between-numbers">
<h4>Checks equality between numbers<a class="headerlink" href="#checks-equality-between-numbers" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>x -eq y         : Check is x is equals to y
x -ne y         : Check if x is not equals to y
x -gt y         : Check if x is greater than y
x -lt y         : Check if x is less than y
</pre></div>
</div>
</div>
<div class="section" id="checks-equality-between-strings">
<h4>Checks equality between strings<a class="headerlink" href="#checks-equality-between-strings" title="Permalink to this headline">¶</a></h4>
<div class="highlight-None"><div class="highlight"><pre><span></span>x = y           : Check if x is the same as y
x != y          : Check if x is not the same as y
-n x            : Evaluates to true if x is not null
-z x            : Evaluates to true if x is null.
##Check in the following way --&gt; if [ -z &quot;$VAR&quot; ];
</pre></div>
</div>
</div>
</div>
<div class="section" id="bash-command-substitution">
<h3>Bash Command Substitution<a class="headerlink" href="#bash-command-substitution" title="Permalink to this headline">¶</a></h3>
<p>Command substitution allows the output of a command to replace the command itself. Command substitution occurs when a command is enclosed as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="k">$(</span><span class="nb">command</span><span class="k">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="sb">`</span><span class="nb">command</span><span class="sb">`</span>
</pre></div>
</div>
<p>Bash performs the expansion by executing command and replacing the command substitution with the standard output of the command, with any trailing newlines deleted.</p>
</div>
<div class="section" id="bash-programming">
<h3>Bash Programming<a class="headerlink" href="#bash-programming" title="Permalink to this headline">¶</a></h3>
<div class="section" id="bash-for-loop">
<h4>Bash For Loop<a class="headerlink" href="#bash-for-loop" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="k">for</span> i in <span class="k">$(</span> ls <span class="k">)</span><span class="p">;</span> <span class="k">do</span>
    <span class="nb">echo</span> item: <span class="nv">$i</span>
<span class="k">done</span>
</pre></div>
</div>
</div>
<div class="section" id="bash-if-statement">
<h4>Bash If Statement<a class="headerlink" href="#bash-if-statement" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;foo&quot;</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
       <span class="nb">echo</span> expression evaluated as <span class="nb">true</span>
<span class="k">else</span>
       <span class="nb">echo</span> expression evaluated as <span class="nb">false</span>
<span class="k">fi</span>
</pre></div>
</div>
</div>
<div class="section" id="bash-loop-thru-array-of-strings">
<h4>Bash loop thru array of strings<a class="headerlink" href="#bash-loop-thru-array-of-strings" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">## declare an array variable</span>
<span class="nb">declare</span> -a <span class="nv">arr</span><span class="o">=(</span><span class="s2">&quot;element1&quot;</span> <span class="s2">&quot;element2&quot;</span> <span class="s2">&quot;element3&quot;</span><span class="o">)</span>

<span class="c1">## now loop through the above array</span>
<span class="k">for</span> i in <span class="s2">&quot;</span><span class="si">${</span><span class="nv">arr</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span>
   <span class="k">do</span>
       <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span>
       <span class="c1"># or do whatever with individual element of the array</span>
   <span class="k">done</span>
</pre></div>
</div>
<p>The value of the variable whose name is in this variable can be found by</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="si">${</span><span class="p">!n</span><span class="si">}</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nv">eth0</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>ip -o -4 address <span class="p">|</span> grep eth0 <span class="p">|</span> awk <span class="s1">&#39;{print $4}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="nv">wlan0</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>ip -o -4 address <span class="p">|</span> grep wlan0 <span class="p">|</span> awk <span class="s1">&#39;{print $4}&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
<span class="c1">##eth0 and wlan0 contains the subnet of the eth0 and wlan0.</span>

<span class="k">for</span> interfaces in <span class="s2">&quot;eth0&quot;</span> <span class="s2">&quot;wlan0&quot;</span>
 <span class="k">do</span>
   <span class="c1">##var would actually get the value of that variable</span>
   <span class="nv">var</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!interfaces</span><span class="si">}</span><span class="s2">&quot;</span>
 <span class="k">done</span>
</pre></div>
</div>
<p>Sample Output with ${!interfaces}:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="m">10</span>.233.113.136/23
</pre></div>
</div>
<p>Sample Output with ${interfaces}:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>eth0
wlan0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="important-definitions">
<h2>Important Definitions<a class="headerlink" href="#important-definitions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="information">
<h3>Information<a class="headerlink" href="#information" title="Permalink to this headline">¶</a></h3>
<div class="section" id="confidentiality-integrity-availability">
<h4>Confidentiality, Integrity, Availability<a class="headerlink" href="#confidentiality-integrity-availability" title="Permalink to this headline">¶</a></h4>
<p>We want our information to</p>
<ul class="simple">
<li>be read by only the right people (confidentiality).</li>
<li>only be changed by authorized people or processes (integrity)</li>
<li>be available to read and use whenever we want (availability).</li>
</ul>
</div>
<div class="section" id="non-repudiation">
<h4>Non-repudiation<a class="headerlink" href="#non-repudiation" title="Permalink to this headline">¶</a></h4>
<p>Non-repudiation is about ensuring that users cannot deny knowledge of sending a message or performing some online activity at some later point in time. For example, in an online banking system the user cannot be allowed to claim that they didn’t send a payment to a recipient after the bank has transferred the funds to the recipient’s account.</p>
</div>
</div>
<div class="section" id="difference-between-su-and-sudo">
<h3>Difference between su and sudo<a class="headerlink" href="#difference-between-su-and-sudo" title="Permalink to this headline">¶</a></h3>
<div class="section" id="su">
<h4>su<a class="headerlink" href="#su" title="Permalink to this headline">¶</a></h4>
<p>Change users or become superuser. The difference between “su -” and “su” is that former “su -” would switch to the new user directory. It would also change the environment variable according to the changed user. Whereas “su” would only change the user but will stay in the same directory.</p>
<p>Example: “su -“</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>root@Kali-Home:~# su - bitvijays
bitvijays@Kali-Home:~$ pwd
/home/bitvijays
</pre></div>
</div>
<p>Example: “su”</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>root@Kali-Home:~# su bitvijays
bitvijays@Kali-Home:/root$ pwd
/root
</pre></div>
</div>
</div>
<div class="section" id="su-c">
<h4>su -c<a class="headerlink" href="#su-c" title="Permalink to this headline">¶</a></h4>
<p>Executing command as another user</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>su -c &quot;command&quot; : Specify a command that will be invoked by the shell using its -c.
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>su bitvijays -c id
uid=1000(bitvijays) gid=1001(bitvijays) groups=1001(bitvijays)
</pre></div>
</div>
</div>
<div class="section" id="sudo">
<h4>sudo<a class="headerlink" href="#sudo" title="Permalink to this headline">¶</a></h4>
<p>Execute a command as another user. The difference between su and sudo is ‘su’ forces you to share your root password to other users whereas ‘sudo’ makes it possible to execute system commands without root password. ‘sudo’ lets you use your own password to execute system commands i.e. delegates system responsibility without root password.</p>
</div>
</div>
<div class="section" id="important-file-formats">
<h3>Important File Formats<a class="headerlink" href="#important-file-formats" title="Permalink to this headline">¶</a></h3>
<div class="section" id="etc-passwd">
<h4>/etc/passwd<a class="headerlink" href="#etc-passwd" title="Permalink to this headline">¶</a></h4>
<p>The <strong>/etc/passwd</strong> file is a colon-separated file that contains the following information:</p>
<ul class="simple">
<li>User name</li>
<li>Encrypted password</li>
<li>User ID number (UID)</li>
<li>User’s group ID number (GID)</li>
<li>Full name of the user (GECOS)</li>
<li>User home directory</li>
<li>Login shell</li>
</ul>
<div class="highlight-None"><div class="highlight"><pre><span></span>root:!:0:0::/:/usr/bin/ksh
daemon:!:1:1::/etc:
bin:!:2:2::/bin:
sys:!:3:3::/usr/sys:
adm:!:4:4::/var/adm:
uucp:!:5:5::/usr/lib/uucp:
guest:!:100:100::/home/guest:
nobody:!:4294967294:4294967294::/:
lpd:!:9:4294967294::/:
lp:*:11:11::/var/spool/lp:/bin/false
invscout:*:200:1::/var/adm/invscout:/usr/bin/ksh
nuucp:*:6:5:uucp login user:/var/spool/uucppublic:/usr/sbin/uucp/uucico
paul:!:201:1::/home/paul:/usr/bin/ksh
jdoe:*:202:1:John Doe:/home/jdoe:/usr/bin/ksh
</pre></div>
</div>
</div>
<div class="section" id="etc-shadow">
<h4>/etc/shadow<a class="headerlink" href="#etc-shadow" title="Permalink to this headline">¶</a></h4>
<p>The <strong>/etc/shadow</strong> file contains password and account expiration information for users, and looks like this:</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>smithj:Ep6mckrOLChF.:10063:0:99999:7:xx:
</pre></div>
</div>
<p>As with the passwd file, each field in the shadow file is also separated with “:” colon characters, and are as follows:</p>
<ul class="simple">
<li>Username, up to 8 characters. Case-sensitive, usually all lowercase. A direct match to the username in the /etc/passwd file.</li>
<li>Password, 13 character encrypted. A blank entry (eg. ::) indicates a password is not required to log in (usually a bad idea), and a * entry (eg. :*:) indicates the account has been disabled.</li>
<li>The number of days (since January 1, 1970) since the password was last changed.</li>
<li>The number of days before password may be changed (0 indicates it may be changed at any time)</li>
<li>The number of days after which password must be changed (99999 indicates user can keep his or her password unchanged for many, many years)</li>
<li>The number of days to warn user of an expiring password (7 for a full week)</li>
<li>The number of days after password expires that account is disabled</li>
<li>The number of days since January 1, 1970 that an account has been disabled</li>
<li>A reserved field for possible future use</li>
</ul>
</div>
<div class="section" id="etc-group">
<h4>/etc/group<a class="headerlink" href="#etc-group" title="Permalink to this headline">¶</a></h4>
<p>The <strong>/etc/group</strong> file stores group information or defines the user groups. There is one entry per line, and each line has the following format (all fields are separated by a colon (:)</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>cdrom:x:24:john,mike,yummy
</pre></div>
</div>
<p>Where,</p>
<ul class="simple">
<li>group_name: Name of group.</li>
<li>Password: Generally password is not used, hence it is empty/blank. It can store encrypted password. This is useful to implement privileged groups.</li>
<li>Group ID (GID): Each user must be assigned a group ID. You can see this number in your /etc/passwd file.</li>
<li>Group List: It is a list of user names of users who are members of the group. The user names, must be separated by commas.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="tips-and-tricks">
<h2>Tips and tricks<a class="headerlink" href="#tips-and-tricks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="apt-get-error">
<h3>Apt-get error?<a class="headerlink" href="#apt-get-error" title="Permalink to this headline">¶</a></h3>
<p>We often do mistakes while updating using apt-get which just leaves us with command line access to the system (GUI messed up). Possibly we unintentionally removed some necessary packages.</p>
<p>In this case, look for /var/log/apt/history.log, look for the time around which your system was broken. Copy the removed packages which would be in the format of</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>libapt-inst1.5:amd64 (0.9.7.9+deb7u5, 0.9.7.9+deb7u6), apt-utils:amd64 (0.9.7.9+deb7u5, 0.9.7.9+deb7u6).
</pre></div>
</div>
<p>To reinstall these packages you just need the package name such as</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>libapt-inst1.5, apt-utils.

*Step1* : Use sed to search for pattern &quot;), &quot; and replace it with &quot;), \n&quot;. This would separate the packages by new line. Within vi &quot;:%s/), /\n/g&quot;
*Step2* : Use cut -d &quot;:&quot; -f 1 to remove :amd64 and anything after that.
*Step3* : Now we have to get them back in one line rather than multiple lines. Within vi &quot;:%s/\n/ /g&quot;
</pre></div>
</div>
</div>
<div class="section" id="track-etc-directory">
<h3>Track /etc directory<a class="headerlink" href="#track-etc-directory" title="Permalink to this headline">¶</a></h3>
<p>Etckeeper may be a bit more advanced, and it is used to put your whole /etc directory under revision control. To install and initialize it,</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>apt-get install etckeeper
etckeeper init
cd /etc
git commit -am Initial
</pre></div>
</div>
<p>After that, you can see pending changes in /etc by cd-ing into it and running</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>git status or git diff
</pre></div>
</div>
<p>at any time, and you can see previous, committed changes by running</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>git log or git log -p
</pre></div>
</div>
<p>You can override pending changes to any file with the last committed version with</p>
<div class="highlight-None"><div class="highlight"><pre><span></span>git checkout FILENAME
</pre></div>
</div>
</div>
<div class="section" id="ls-showing-full-path">
<h3>ls showing full path<a class="headerlink" href="#ls-showing-full-path" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>ls -R /path | awk &#39;/:$/&amp;&amp;f{s=$0;f=0} /:$/&amp;&amp;!f{sub(/:$/,&quot;&quot;);s=$0;f=1;next} NF&amp;&amp;f{ print s&quot;/&quot;$0 }&#39;
</pre></div>
</div>
</div>
<div class="section" id="keyboard-shortcuts">
<h3>Keyboard shortcuts<a class="headerlink" href="#keyboard-shortcuts" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>Ctrl + a : Move to the start of line.
Ctrl + e : Move to the end of line.
Ctrl + w : Cut from cursor to previous whitespace.
Ctrl + k : Cut from cursor to the end of line.
Ctrl + y : Paste the last cut text.
</pre></div>
</div>
</div>
<div class="section" id="searching-history">
<h3>Searching History<a class="headerlink" href="#searching-history" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>Search as you type. Ctrl + r and type the search term;
</pre></div>
</div>
<p>Read <a class="reference external" href="http://www.gnu.org/software/bash/manual/bashref.html#Command-Line-Editing">Command Line Editing</a> for more information.</p>
</div>
<div class="section" id="awk-converting-to-normal-output-to-csv">
<h3>Awk converting to normal output to csv<a class="headerlink" href="#awk-converting-to-normal-output-to-csv" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>A B --&gt; &quot;A&quot;,&quot;B&quot;
awk &#39;{print &quot;\&quot;&quot; $1 &quot;\&quot;,\&quot;&quot; $2&quot;\&quot;&quot;}&#39;
</pre></div>
</div>
</div>
<div class="section" id="finding-most-open-ports-in-nmap-scan">
<h3>Finding most open ports in nmap scan<a class="headerlink" href="#finding-most-open-ports-in-nmap-scan" title="Permalink to this headline">¶</a></h3>
<div class="highlight-None"><div class="highlight"><pre><span></span>grep &quot;^[0-9]\+&quot; &lt;nmap file .nmap extension&gt; | grep &quot;\ open\ &quot; | sort | uniq -c | sort -rn | awk &#39;{print &quot;\&quot;&quot;$1&quot;\&quot;,\&quot;&quot;$2&quot;\&quot;,\&quot;&quot;$3&quot;\&quot;,\&quot;&quot;$4&quot;\&quot;,\&quot;&quot;$5&quot; &quot;$6&quot; &quot;$7&quot; &quot;$8&quot; &quot;$9&quot; &quot;$10&quot; &quot;$11&quot; &quot;$12&quot; &quot;$13&quot;\&quot;&quot;}&#39; &gt; test.csv
</pre></div>
</div>
</div>
<div class="section" id="cat">
<h3>cat<a class="headerlink" href="#cat" title="Permalink to this headline">¶</a></h3>
<p>When cat sees the string - as a filename, it treats it as a synonym for stdin. To get around this, we need to alter the string that cat sees in such a way that it still refers to a file called -. The usual way of doing this is to prefix the filename with a path - ./-, or /home/Tim/-. This technique is also used to get around similar issues where command line options clash with filenames, so a file referred to as ./-e does not appear as the -e command line option to a program.</p>
</div>
</div>
<div class="section" id="practice">
<h2>Practice<a class="headerlink" href="#practice" title="Permalink to this headline">¶</a></h2>
<p>That was most probably a lot of information, to practice all the it’s always better to do some hands on.</p>
<div class="section" id="programming-debugging-and-git">
<h3>Programming, Debugging and Git<a class="headerlink" href="#programming-debugging-and-git" title="Permalink to this headline">¶</a></h3>
<div class="section" id="task-1-git">
<h4>Task 1 : Git<a class="headerlink" href="#task-1-git" title="Permalink to this headline">¶</a></h4>
<p>Learn git, would suggest to do a 15 min tutorial on try.github.com.</p>
</div>
<div class="section" id="task-2-vi-gcc-make">
<h4>Task 2 : Vi/ gcc/ make<a class="headerlink" href="#task-2-vi-gcc-make" title="Permalink to this headline">¶</a></h4>
<p>Create a small program using vi with syntax on, compile it using gcc using make.</p>
</div>
<div class="section" id="task-3-gdb">
<h4>Task 3 : gdb<a class="headerlink" href="#task-3-gdb" title="Permalink to this headline">¶</a></h4>
<p>Debug it using gdb -tui option to see the source code, experiment with breakpoints, and printing values.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Track that program using git, upload them to a remote server, then pull your code, check if its the same.</p>
</div>
</div>
</div>
<div class="section" id="id1">
<h3>System administration<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="task-1-login-logout-messages">
<h4>Task 1 : Login/ Logout Messages<a class="headerlink" href="#task-1-login-logout-messages" title="Permalink to this headline">¶</a></h4>
<p>Change the messages before login, after login. Remember the escapes sequences used in the /etc/issue. man agetty lists them.</p>
</div>
<div class="section" id="task-2-gather-information">
<h4>Task 2 : Gather Information<a class="headerlink" href="#task-2-gather-information" title="Permalink to this headline">¶</a></h4>
<p>Supposed you got access via shell to a linux system and extract some information from it. Create a script.</p>
</div>
<div class="section" id="task-3-add-user">
<h4>Task 3 : Add User<a class="headerlink" href="#task-3-add-user" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Create a Alice, Bob, eve with the password “password” HINT: set password using chpasswd, look some examples in google to change from cmdline.</li>
<li>Login from eve</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Copy and preserve all the configuration files from /etc and save it in eve home directory in the folder etc-backup-YYYYMMDD, direct all errors to cp.err</li>
<li>Change the owner of all the files in the folder just created to Bob and the group of all the files to Alice and change the permission of all the files to 440 i.e r–r—– HINT: would have to be logined as root</li>
<li>Provide me all the unique shells used by the user present in the system in CAPS. HINT: /etc/passwd file contains all the shells, three four commands would be used.</li>
<li>Cover your tracks, clear out the /var/log/auth.log (Have a look at this file and create a backup before clearing), clean your terminal history HINT: man pages would help you.</li>
<li>Delete all the user Bob, Alice, eve. Make sure you delete their files too.</li>
<li>Turn off the ping responses for your system permanently and turn on the Syn-cookies protection mechanism. {Search on Google}</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Use your previous script to create three users Alice, Bob, eve.</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>create a folder dept inside it two folder hr, web.</li>
<li>create two group hr and web.</li>
<li>change group of web folder to web and hr to hr.</li>
<li>add Alice and Bob user to web group</li>
<li>add Alice to hr group.</li>
<li>check that Bob is not able to enter in the hr folder and Alice is able to enter in both hr and web folder</li>
<li>add user Bob to sudo group and check if it is able to run sudo ifconfig ?</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="bash-scripting">
<h3>Bash Scripting<a class="headerlink" href="#bash-scripting" title="Permalink to this headline">¶</a></h3>
<div class="section" id="task-1-gather-ip-addresses">
<h4>Task 1 : Gather IP Addresses<a class="headerlink" href="#task-1-gather-ip-addresses" title="Permalink to this headline">¶</a></h4>
<p>Objective to get few IP addresses of Microsoft.com Domains.</p>
<ul class="simple">
<li>Download the index.html page of microsoft.com</li>
<li>Every link in html is referred by href. Filter all the href (which would contain the link to different domains for Microsoft)</li>
<li>Sort and find unique list. Get their ip addresses</li>
<li>HINT: Tools such as cut, grep, wget, sort, uniq, host and little bit of bash scripting would be used.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="interesting-stuff">
<h2>Interesting Stuff<a class="headerlink" href="#interesting-stuff" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Linux Monitoring Tools : Server density has written most comprehensive list of <a class="reference external" href="https://www.serverdensity.com/monitor/linux/how-to/">80 Linux Monitoring Tools</a></li>
<li>Windows Monitoring Tools : Server density has written similar list for Windows too <a class="reference external" href="https://www.serverdensity.com/monitor/windows/how-to/">60+ Windows Monitoring Tools</a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="index.html">tech.bitvijays.com</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Vijay Kumar.
    </div>
  </body>
</html>